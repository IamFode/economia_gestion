boxplot(x)
## Filtros
### Nivel de educación más alto que se aprobó
sin_estudios <- subset(personas, s01a_03 >= 18 & s03a_02a == 11)
colegio_no_concluido <- subset(personas,
(s03a_02a == 12
| s03a_02a == 13
| s03a_02a == 21
| s03a_02a == 22
| s03a_02a == 23
| s03a_02a == 31
| s03a_02a == 41
| s03a_02a == 51
| s03a_02a == 52
| s03a_02a == 61
| s03a_02a == 62
| s03a_02a == 64
| s03a_02a == 65) & s01a_03 >= 18)
colegio <- subset(personas,
s03a_02a == 42
| s03a_02a == 32
| s03a_02a == 63)
tecnico <- subset(personas,
s03a_02a == 76
| s03a_02a == 77
| s03a_02a == 78
| s03a_02a == 79
| s03a_02a == 80)
pregrado <- subset(personas,
s03a_02a == 71
| s03a_02a == 72)
postgrado <- subset(personas,
s03a_02a == 73
| s03a_02a == 74
| s03a_02a == 75)
nrow(sin_estudios)
nrow(colegio)
nrow(tecnico)
nrow(pregrado)
nrow(postgrado)
personas$s03a_02a <- factor(personas$s03a_02a)
levels(personas$s03a_02a) <- c("sin_colegio",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"no_concluido",
"colegio",
"tecnico",
"no_concluido",
"universidad",
"universidad",
"postgrado",
"postgrado",
"postgrado",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"colegio")
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
sexo <- c(colegio_no_concluido$s01a_02, sin_estudios$s01a_02)
edad <- c(colegio_no_concluido$s01a_03, sin_estudios$s01a_03)
by(edad,sexo,mean)
by(edad,sexo,cv)
aggregate(edad, list(sexo), mean)
edad <- cut(edad,breaks = c(18,28,38,48,58,68,78,88,98))
boxplot(edad ~ sexo)
table(edad, sexo)
edad_sexo <- prop.table(table(edad,sexo),1)
hist(edad_sexo)
hist(edad)
hist(edad,sexo)
hist(sexo,edad)
edad_sexo <- prop.table(table(edad,sexo),1)
hist(edad_sexo)
edad_sexo <- prop.table(table(edad,sexo),1)
edad_sexo
prop.table(table(edad,sexo),1)
prop.table(table(edad,sexo),2)
boxplot(edad ~ sexo)
table(edad, sexo)
hist(table(edad, sexo))
table(edad, sexo)
prop.table(table(edad,sexo),1)
prop.table(table(edad,sexo),2)
hidrocarburos = as.data.frame(read_sav("../Dat/BD-PET-GAS-1990-2017.sav"))
View(hidrocarburos)
hidrocarburos.ts <- ts(hidrocarburos$AÑOMES)
View(hidrocarburos)
hidrocarburos.ts
hidrocarburos = as.data.frame(read_sav("../Dat/BD-PET-GAS-1990-2017.sav"))
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC)
hidrocarburos.ts
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1))
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 1)
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 12)
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 24)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 5)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1))
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 24)
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC,frequency = 24)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC,frequency = 12)
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 5)
plot(hidrocarburos.ts)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 12)
plot(hidrocarburos.ts)
plot(hidrocarburos.ts, type = "o")
plot(hidrocarburos.ts, type = "l")
plot(hidrocarburos.ts, type = "l", xlab = "AÑOS", ylab = "Metroplescubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
plot(hidrocarburos.comp,xlab="Años")
hidrocarburos$P <- hidrocarburos.comp$trend
hidrocarburos$S <- hidrocarburos.comp$seasonal
hidrocarburos$U <- hidrocarburos.comp$random
barplot(hidrocarburos.comp$figure, names=factor(1:12))
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Año", ylab="")
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Mes", ylab="IPC")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Mes", ylab="IPC")
legend("bottomleft", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
t<- cbind(ipc.ts, ipc.ts-ipc.comp$seasonal)
t<- cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal)
t
hidrocarburos = as.data.frame(read_sav("../Dat/BD-PET-GAS-1990-2017.sav"))
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Años", ylab = "Metro pies cubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
plot(hidrocarburos.comp,xlab="Años")
hidrocarburos$P <- hidrocarburos.comp$trend
hidrocarburos$S <- hidrocarburos.comp$seasonal
hidrocarburos$U <- hidrocarburos.comp$random
barplot(hidrocarburos.comp$figure, names=factor(1:12))
barplot(hidrocarburos.comp$figure, names=factor(1:12))
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Año", ylab="")
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Mes", ylab="IPC")
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("bottomleft", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
hidrocarburos = as.data.frame(read_sav("../Dat/BD-PET-GAS-1990-2017.sav"))
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(2015,1),frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Años", ylab = "Metro pies cubicos")
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(2015,2017),frequency = 12)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 12)
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Años", ylab = "Metro pies cubicos")
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(2000,1),frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Años", ylab = "Metro pies cubicos")
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1),frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Años", ylab = "Metro pies cubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
plot(hidrocarburos.comp,xlab="Años")
hidrocarburos$P <- hidrocarburos.comp$trend
hidrocarburos$S <- hidrocarburos.comp$seasonal
hidrocarburos$U <- hidrocarburos.comp$random
barplot(hidrocarburos.comp$figure, names=factor(1:12))
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("bottomleft", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
t<- cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal)
plot(ipca)
ipca.ts<- ts(ipca$IPC, start = 2002)
# Medias móviles de orden 3
plot(ipca$IPC, type="o")
ipca$P3<- filter(ipca.ts, sides=2, rep(1/3,3))# MM3
lines(ipca$P3, lty="dashed", col="red")
ipca$P5<- filter(ipca.ts, sides=2, rep(1/5,5)) # MM5
lines(ipca$P5, lty="dashed", col="red")
plot(ipca$P3, type="o")
plot(ipca$P5, type="o")
reg<-lm(IPC~Ano, data=ipca[ipca$Ano>2014,])
summary(reg)
### objetivos para series de datos
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1), frequency = 12)
View(hidrocarburos.comp)
View(hidrocarburos)
plot(hidrocarburos.ts, type = "l", xlab = "Años", ylab = "Metro pies cubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
plot(hidrocarburos.comp,xlab="Años")
barplot(hidrocarburos.comp$figure, names=factor(1:12))
plot(hidrocarburos.comp,xlab="Mes")
barplot(hidrocarburos.comp$figure, names=factor(1:12))
barplot(hidrocarburos.comp$figure, names=c("Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic")) ### los dos primeros meses año tras año son menores que la media, el tercero un poco mayor que la media
#diagrama de secuencias de datos almacenados de una estructura ts
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
#diagrama de secuencias de datos almacenados de una estructura ts
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Mes", ylab="Metro pies cubicos")
### ts menos estacionalidad, serie suavizada o serie real
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("bottomleft", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend(c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend(c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("bottomleft", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
### ts menos estacionalidad, serie suavizada o serie real
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("bottomleft", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("bottomright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("bottom right", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("right", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("aboveright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("aboveright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("belowright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("belowright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("belowright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("bottomright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("aboveright", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("center", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("center", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("below", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
legend("bottom", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
legend("bottom", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
head(hidrocarburos$AÑOMES)
##### Serie anual
hidrocarburos$anual <- substr(hidrocarburos$AÑOMES,1,4)
View(hidrocarburos)
##### Serie anual
hidrocarburos$anual <- as.integer(substr(hidrocarburos$AÑOMES,1,4))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$AÑOMES,max(hidrocarburos$AÑOMES,hidrocarburos=taapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean)))))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$AÑOMES,max(hidrocarburos$AÑOMES,hidrocarburos=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean)))))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$AÑOMES),max(hidrocarburos$AÑOMES)),hidrocarburos=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean)))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$AÑOMES),max(hidrocarburos$AÑOMES)),hidrocarburos=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$AÑOMES),max(hidrocarburos$AÑOMES)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
##### Serie anual
### Sacar los primeros numeros y colocar como entero oara colocar una serie anual
hidrocarburos$anual <- as.integer(substr(hidrocarburos$AÑOMES,1,4))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$AÑOMES),max(hidrocarburos$AÑOMES)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$anual),max(hidrocarburos$anual)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
hidrocarburosanual
plot(ipca)
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
hidrocarburosanual.ts
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type="o")
ipca$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$, lty="dashed", col="red")
lines(hidrocarburosanual$P3, lty="dashed", col="red")
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type="o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty="dashed", col="red")
plot(hidrocarburosanual$hidrocar,  type="o")
lines(hidrocarburosanual$P3, lty="dashed", col="red")
plot(hidrocarburosanual$hidrocar)
lines(hidrocarburosanual$P3, lty="dashed", col="red")
plot(hidrocarburosanual$P3, lty="dashed", col="red")
lines(hidrocarburosanual$hidrocar)
plot(hidrocarburosanual$P3, lty="dashed", col="red")
lines(hidrocarburosanual$hidrocar)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual)
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$hidrocar, lty = "dashed", col = "red")
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(ipca$P3, type="o")
plot(ipca$P5, type="o")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>2014,])
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>2014,])
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>1990,])
summary(reg)
abline(reg, col="blue")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>1990,])
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=1990,])
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual)
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual)
summary(reg)
abline(reg, col="blue")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual)
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual)
summary(reg)
abline(reg, col="blue")
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 2000)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 2000)
### Nos da para cada año una media
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$anual),max(hidrocarburos$anual)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 2000)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual)
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000])
summary(reg)
abline(reg, col="blue")
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000])
summary(reg)
abline(reg, col="blue")
### Nos da para cada año una media
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$anual),max(hidrocarburos$anual)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 2000)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
### Nos da para cada año una media
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$anual),max(hidrocarburos$anual)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000])
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000])
summary(reg)
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000])
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>2000])
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>1990])
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>1990])
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>2000,])
summary(reg)
abline(reg, col="blue")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
hidrocarburos = as.data.frame(read_sav("../Dat/BD-PET-GAS-1990-2017.sav"))
### objetivos para series de datos
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(2000,1), frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Mes", ylab = "Metro pies cubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
### objetivos para series de datos
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1), frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Mes", ylab = "Metro pies cubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
plot(hidrocarburos.comp,xlab="Mes")
hidrocarburos$P <- hidrocarburos.comp$trend # tendencia a largo plazo, ciclotendencia
hidrocarburos$S <- hidrocarburos.comp$seasonal # estacionalidad
hidrocarburos$U <- hidrocarburos.comp$random #
barplot(hidrocarburos.comp$figure, names=c("Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic")) ### los dos primeros meses año tras año son menores que la media, el tercero un poco mayor que la media
#diagrama de secuencias de datos almacenados de una estructura ts
### Serie original
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Mes", ylab="Metro pies cubicos")
### ts menos estacionalidad, serie suavizada o serie real
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black", xlab="Año", ylab="Metro pies cubicos")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal), lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año", ylab="Metro pies cubicos")
t<- cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal)
##### Serie anual
### Sacar los primeros numeros y colocar como entero para colocar una serie anual
hidrocarburos$anual <- as.integer(substr(hidrocarburos$AÑOMES,1,4))
### Nos da para cada año una media
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$anual),max(hidrocarburos$anual)),hidrocar=tapply(hidrocarburos$GASNATURALMPC, hidrocarburos$anual,mean))
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
#  Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
View(personas)
View(hidrocarburosanual)
## --------------- Regresión ---------------
# Regresión lineal con EES
### Regresando: BASE
## Regresión simple
# regresor sexo
reg_simple<-lm(PETRÓLEOBbls~GASNATURALMPC, data=hidrocarburos)
summary(reg_simple)
# regresor Nivel de estudios
table(ees$ESTU)
# regresor Nivel de estudios
table(personas$s03a_02a)
# regresor Nivel de estudios
table(personas$s03a_02a)
reg_simple<-lm(sexo~s03a_02a, data=ees)
reg_simple<-lm(sexo~s03a_02a, data=personas)
# regresor Nivel de estudios
table(personas$s03a_02a)
reg_simple<-lm(sexo~s03a_02a, data=personas)
reg_simple<-lm(edad~s03a_02a, data=personas)
reg_simple<-lm(s03a_02a~sexo, data=personas)
reg_simple<-lm(s01a_02 ~ s03a_02a, data=personas)
reg_simple<-lm(s01a_03 ~ s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s01a_03~s03a_02a+s01a_02, data=ees)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s01a_03~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
reg_simple<-lm(s03a_02a ~ s01a_03, data=personas)
reg_simple<-lm(s01a_03 ~ s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s01a_03~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
reg_simple<-lm(s01a_03 ~ s03a_02a, data=personas)
summary(reg_simple)
reg_simple<-lm(s01a_03 ~ s01a_02, data=personas)
summary(reg_simple)
reg_simple<-lm(s01a_03 ~s03a_02a, data=personas)
summary(reg_simple)
reg_simple<-lm(s04c_18a ~s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
# regresor Nivel de estudios
table(personas$s03a_02a)
reg_simple<-lm(s04c_18a ~s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
