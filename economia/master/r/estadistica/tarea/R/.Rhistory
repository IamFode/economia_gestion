"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"no_concluido",
"colegio",
"tecnico",
"no_concluido",
"universidad",
"universidad",
"postgrado",
"postgrado",
"postgrado",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"colegio")
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
View(personas)
sd(x)
cv(x)
var(x)*(n-1)/n
var(x)*(lengh(x)-1)/lengh(n)
var(x)*(length(x)-1)/length(n)
var(x)*(length(x)-1)/length(x)
var(x)
var(x)*(length(x)-1)/length(x)
var <- var(x)*(length(x)-1)/length(x)
sqrt(var)
sd(x)
plot(density(x))
hist(x)
plot(density(x))
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
plot(density(x))
ggplot(x, aes(x=weight)) +
geom_density()
ggplot(x) +
geom_density()
library(ggplot2)
ggplot(x, aes(x=weight)) +
geom_density()
ggplot(as.data.frame(x), aes(x=weight)) +
geom_density()
ggplot(as.data.frame(x), aes(x=edad)) +
geom_density()
ggplot(as.data.frame(x)) +
geom_density()
ggplot(as.data.frame(x), aes(x=s01a_03)) +
geom_density()
ggplot(as.data.frame(x), aes(x=edad)) +
geom_density()
ggplot(as.data.frame(x), aes(x=edad)) +
geom_density()
ggplot(as.data.frame(x), aes(x=edad)) +
geom_density()
boxplot(x)
ggplot2.density(data=x,x xName = "edad")
ggplot(personas, aes(x=s01a_03)) +
geom_density()
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue")
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue", fill = "lighblue")
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue", fill = "lighblue")
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue", fill = "blue")
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue", fill = "yellow")
ggplot(personas, aes(x=s01a_03)) +
geom_density(color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram() +
geom_density(color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..)) +
geom_density(color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..)) +
geom_density(alpha = .2, color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..), colours = "red") +
geom_density(alpha = .2, color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..), colours = "red") +
geom_density(alpha = .2, color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..), colour = "red") +
geom_density(alpha = .2, color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..), colour = "red", fill = "red") +
geom_density(alpha = .2, color = "darkblue", fill = "lightblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(aes(y = ..density..), colour = "red", fill = "red") +
geom_density(alpha = .2, color = "darkblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .2, aes(y = ..density..), colour = "red", fill = "red") +
geom_density(, color = "darkblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .2, aes(y = ..density..), colour = "red", fill = "red") +
geom_density(color = "darkblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .2, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .3, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .3, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad de edades", x = "Edad")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .3, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad para edades", x = "Edad")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .3, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad para edades", x = "Edad")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .4, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad para edades", x = "Edad")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .5, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad para edades", x = "Edad")
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .5, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad para edades", x = "Edad")
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
write(tabla,"mi_tab.png")
tabla <- table(personas$s03a_02a)
write(tabla,"mi_tab.png")
write(tabla,"mi_tab.csv")
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
sexo <- c(colegio_no_concluido$s01a_02, sin_estudios$s01a_02)
edad <- c(colegio_no_concluido$s01a_03, sin_estudios$s01a_03)
by(edad,sexo,mean)
by(edad,sexo,cv)
aggregate(edad, list(sexo), mean)
edad <- cut(edad,breaks = c(18,28,38,48,58,68,78,88,98))
boxplot(edad ~ sexo)
table(edad, sexo)
prop.table(table(edad,sexo),1)
prop.table(table(edad,sexo),2)
sexo <- c(colegio_no_concluido$s01a_02, sin_estudios$s01a_02)
edad <- c(colegio_no_concluido$s01a_03, sin_estudios$s01a_03)
by(edad,sexo,mean)
by(edad,sexo,cv)
aggregate(edad, list(sexo), mean)
edad <- cut(edad,breaks = c(18,28,38,48,58,68,78,88,98))
boxplot(edad ~ sexo)
table(edad, sexo)
prop.table(table(edad,sexo),1)
prop.table(table(edad,sexo),2)
ggplot2(t)
ggplot2(t) + geom_histogram()
ggplot(t) + geom_histogram()
ggplot(sexo) + geom_histogram()
t<-table(edad, sexo)
table(edad, sexo)
t <- as.data.frame(table(edad, sexo))
t
ggplot(t) + geom_histogram()
ggplot2(t) + geom_histogram()
ggplot(t,aes(x=sexo)) + geom_histogram()
ggplot(t,aes(x=Freq)) + geom_histogram()
plot(table(edad,sexo))
plot(edad ~ sexo)
hist(edad ~ sexo)
hist(edad ~ sexo)
hist(table(edad,sexo))
sexo
table(edad, sexo)
plot(table(edad,sexo))
boxplot(edad ~ sexo)
plot(edad ~ sexo))
plot(edad ~ sexo)
hist(edad ~ sexo)
hist(edad ~ sexo)
prop.table(table(edad,sexo),m)
prop.table(table(edad,sexo),1)
(edad ~ sexo)
levels(sexo) <- c("H","M")
sexo <- c(colegio_no_concluido$s01a_02, sin_estudios$s01a_02)
levels(sexo) <- c("H","M")
edad <- c(colegio_no_concluido$s01a_03, sin_estudios$s01a_03)
by(edad,sexo,mean)
by(edad,sexo,cv)
aggregate(edad, list(sexo), mean)
edad <- cut(edad,breaks = c(18,28,38,48,58,68,78,88,98))
boxplot(edad ~ sexo)
table(edad, sexo)
levels(sexo) <- c("H","M")
## ----- Género ------
personas$s01a_02 <- factor(personas$s01a_02)
levels(personas$s01a_02) <- c("H","M")
sexo <- c(colegio_no_concluido$s01a_02, sin_estudios$s01a_02)
edad <- c(colegio_no_concluido$s01a_03, sin_estudios$s01a_03)
by(edad,sexo,mean)
by(edad,sexo,cv)
aggregate(edad, list(sexo), mean)
edad <- cut(edad,breaks = c(18,28,38,48,58,68,78,88,98))
boxplot(edad ~ sexo)
table(edad, sexo)
library(haven) # Librería para importar data sets spss
library(ggplot2)
## Data set
personas = as.data.frame(read_sav("../Dat/EH2020_Persona.sav"))
## functions
cv=function(x){
sqrt(var(x)*(length(x)-1)/length(x))/ mean(x)
}
moda=function(x){
sort(table(x), TRUE)[1]
}
## ----- Género ------
personas$s01a_02 <- factor(personas$s01a_02)
levels(personas$s01a_02) <- c("H","M")
genero <- table(personas$s01a_02)
generoFrame <- as.data.frame(genero)
colnames(generoFrame) <- c("Genero", "Cantidad")
### plot
ggplot(data=generoFrame, aes(x=Genero, y=Cantidad)) +
geom_bar(stat="identity", fill = "steelblue") + theme_minimal()
### distribución de frecuencias relativas
prop.table(x)*100
## ----- Nivel mas alto de instrucción -----
table(personas$s03a_02a)
personas$s03a_02a <- factor(personas$s03a_02a)
nivel_edu <- table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
## ----- Rango de edad -----
table(personas$s01a_03)
sum(table(personas$s01a_03))
table(personas$s01a_03)
x <- personas$s01a_03
mean(x,na.rm = TRUE)(x)
var(x)
var <- var(x)*(length(x)-1)/length(x)
sqrt(var)
sd(x)
median(x)
moda(x)
cv(x)
quantile(x)
hist(x)
plot(density(x))
ggplot(personas, aes(x=s01a_03)) +
geom_histogram(alpha = .5, aes(y = ..density..), colour = "white", fill = "red") +
geom_density(color = "darkblue") +
labs(title = "Curva de densidad para edades", x = "Edad")
### Nivel de educación más alto que se aprobó
sin_estudios <- subset(personas, s01a_03 >= 18 & s03a_02a == 11)
colegio_no_concluido <- subset(personas,
(s03a_02a == 12
| s03a_02a == 13
| s03a_02a == 21
| s03a_02a == 22
| s03a_02a == 23
| s03a_02a == 31
| s03a_02a == 41
| s03a_02a == 51
| s03a_02a == 52
| s03a_02a == 61
| s03a_02a == 62
| s03a_02a == 64
| s03a_02a == 65) & s01a_03 >= 18)
colegio <- subset(personas,
s03a_02a == 42
| s03a_02a == 32
| s03a_02a == 63)
tecnico <- subset(personas,
s03a_02a == 76
| s03a_02a == 77
| s03a_02a == 78
| s03a_02a == 79
| s03a_02a == 80)
pregrado <- subset(personas,
s03a_02a == 71
| s03a_02a == 72)
postgrado <- subset(personas,
s03a_02a == 73
| s03a_02a == 74
| s03a_02a == 75)
nrow(sin_estudios)
nrow(colegio)
nrow(tecnico)
nrow(pregrado)
nrow(postgrado)
personas$s03a_02a <- factor(personas$s03a_02a)
levels(personas$s03a_02a) <- c("sin_colegio",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"no_concluido",
"colegio",
"tecnico",
"no_concluido",
"universidad",
"universidad",
"postgrado",
"postgrado",
"postgrado",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"colegio")
table(personas$s03a_02a)
table(personas$s03a_02a) / length(personas$s03a_02a)*100
sexo <- c(colegio_no_concluido$s01a_02, sin_estudios$s01a_02)
edad <- c(colegio_no_concluido$s01a_03, sin_estudios$s01a_03)
by(edad,sexo,mean)
by(edad,sexo,cv)
aggregate(edad, list(sexo), mean)
edad <- cut(edad,breaks = c(18,28,38,48,58,68,78,88,98))
boxplot(edad ~ sexo)
table(edad, sexo)
(edad ~ sexo)
prop.table(table(edad,sexo),1)
prop.table(table(edad,sexo),2)
```{r}
library(haven)
personas = as.data.frame(read_sav("../Dat/EH2020_Persona.sav"))
```{r}
```{r}
library(haven)
personas = as.data.frame(read_sav("../Dat/EH2020_Persona.sav"))
```{r}
(edad ~ sexo)
table(edad, sexo)
prop.table(table(edad,sexo),1)
prop.table(table(edad,sexo),2)
# regresor Nivel de estudios
table(personas$s03a_02a)
reg_simple<-lm(s04c_18a ~s03a_02a, data=personas)
summary(reg_simple)
# regresor Nivel de estudios
table(personas$s03a_02a)
reg_simple<-lm(s04c_18a ~s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
#las mujeres en media tiene un sueldo 336 menos que los hombres.
#las mujeres en media tiene un sueldo 336 menos que los hombres.
#las mujeres en media tiene un sueldo 336 menos que los hombres.
reg_simple<-lm(s04c_18a ~s03a_02a, data=personas)
summary(reg_simple)
reg_simple<-lm(s04c_18a ~ s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
nrow(postgrado)
personas$s03a_02a <- factor(personas$s03a_02a)
levels(personas$s03a_02a) <- c("sin_colegio",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"colegio",
"no_concluido",
"no_concluido",
"colegio",
"tecnico",
"no_concluido",
"universidad",
"universidad",
"postgrado",
"postgrado",
"postgrado",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"tecnico",
"colegio")
# regresor Nivel de estudios
table(personas$s03a_02a)
reg_simple<-lm(s04c_18a ~ s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
## ----- Género ------
personas$s01a_02 <- factor(personas$s01a_02)
levels(personas$s01a_02) <- c("H","M")
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
reg_simple<-lm(s04c_18a ~ s03a_02a, data=personas)
summary(reg_simple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
hidrocarburos = as.data.frame(read_sav("../Dat/BD-PET-GAS-1990-2017.sav"))
### objetivos para series de datos
hidrocarburos.ts <- ts(hidrocarburos$GASNATURALMPC, start=c(1990,1), frequency = 12)
plot(hidrocarburos.ts, type = "l", xlab = "Mes", ylab = "Metro pies cubicos")
### Descompocisión aditiva
hidrocarburos.comp <- decompose(hidrocarburos.ts,type = "additive")
plot(hidrocarburos.comp,xlab="Mes")
hidrocarburos$P <- hidrocarburos.comp$trend # tendencia a largo plazo, ciclotendencia
hidrocarburos$S <- hidrocarburos.comp$seasonal # estacionalidad
hidrocarburos$U <- hidrocarburos.comp$random
## los dos primeros meses año tras año son menores que la media, el tercero un poco mayor que la media
barplot(hidrocarburos.comp$figure, names=c("Ene",
"Feb",
"Mar",
"Abr",
"May",
"Jun",
"Jul",
"Ago",
"Sep",
"Oct",
"Nov",
"Dic"))
#diagrama de secuencias de datos almacenados de una estructura ts
### Serie original
ts.plot(hidrocarburos.ts, lty="solid", col="black", xlab="Mes",
ylab="Metro pies cubicos")
### ts menos estacionalidad, serie suavizada o serie real
ts.plot(hidrocarburos.ts-hidrocarburos.comp$seasonal, lty="solid", col="black",
xlab="Año", ylab="Metro pies cubicos")
ts.plot(cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal),
lty=c("solid", "dashed"), col=c("black", "blue"), xlab="Año",
ylab="Metro pies cubicos")
#legend("bottom", c("Serie original", "Desestacionalizada"), lty=c("solid", "dashed"), col=c("black", "blue"), lwd=c(1,1))
t<- cbind(hidrocarburos.ts, hidrocarburos.ts-hidrocarburos.comp$seasonal)
##### Serie anual
### Sacar los primeros numeros y colocar como entero para colocar una serie anual
hidrocarburos$anual <- as.integer(substr(hidrocarburos$AÑOMES,1,4))
### Nos da para cada año una media
hidrocarburosanual <- data.frame(anual=seq(min(hidrocarburos$anual),
max(hidrocarburos$anual)),
hidrocar=tapply(hidrocarburos$GASNATURALMPC,
hidrocarburos$anual,mean))
plot(hidrocarburosanual)
hidrocarburosanual.ts<- ts(hidrocarburosanual$hidrocar, start = 1990)
#Si se quiere suavizar (Medias móviles de orden 3) toma las medias de tres en tres
plot(hidrocarburosanual$hidrocar, type = "o")
hidrocarburosanual$P3<- filter(hidrocarburosanual.ts, sides=2, rep(1/3,3))# MM3
lines(hidrocarburosanual$P3, lty = "dashed", col = "red")
hidrocarburosanual$P5<- filter(hidrocarburosanual.ts, sides=2, rep(1/5,5)) # MM5
lines(hidrocarburosanual$P5, lty = "dashed", col = "red")
plot(hidrocarburosanual$P3, type="o")
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
View(hidrocarburos)
plot(hidrocarburosanual$P5, type="o")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
plot(hidrocarburosanual$P5, type="o", xlab = "Años", ylab = "Metro pies cúbicos")
plot(hidrocarburosanual$P5, type="o", main = "Producción de gas natural", xlab = "Años", ylab = "Metro pies cúbicos")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
plot(hidrocarburosanual$P5, type="o",
main = "Producción de gas natural (2000-2017)",
xlab = "Años",
ylab = "Metro pies cúbicos")
reg<-lm(hidrocar~anual, data=hidrocarburosanual[hidrocarburosanual$anual>=2000,])
summary(reg)
abline(reg, col="blue")
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
summary(reg_multiple)
# Regresión múltiple con ambos regresores
reg_multiple<-lm(s04c_18a~s03a_02a+s01a_02, data=personas)
summary(reg_multiple)
